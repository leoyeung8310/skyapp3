{"version":3,"sources":["/Users/leoycy/Desktop/skyapp3/src/app/signup/signup-routing.module.ts","/Users/leoycy/Desktop/skyapp3/src/app/signup/signup.component.html","/Users/leoycy/Desktop/skyapp3/src/app/signup/signup.component.scss","/Users/leoycy/Desktop/skyapp3/src/app/signup/signup.component.ts","/Users/leoycy/Desktop/skyapp3/src/app/signup/signup.module.ts","/Users/leoycy/Desktop/skyapp3/src/app/signup/signup.service.ts"],"names":[],"mappings":"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","file":"signup.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SignupComponent } from './signup.component';\n\nconst routes: Routes = [\n    { path: '', component: SignupComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SignupRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/leoycy/Desktop/skyapp3/src/app/signup/signup-routing.module.ts","module.exports = \"<div class=\\\"login-page\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-4 push-md-4\\\">\\n      <img class=\\\"user-avatar\\\" src=\\\"assets/images/logo.png\\\" width=\\\"150px\\\" />\\n      <h1>SkyApp</h1>\\n      <form [formGroup]=\\\"registrationForm\\\" id=\\\"registrationForm\\\" (ngSubmit)=\\\"onSubmit($event, registrationForm.value)\\\" novalidate>\\n        <br>\\n        <mat-form-field>\\n          <input matInput formControlName=\\\"code\\\" id=\\\"code\\\" placeholder=\\\"Admin's Passcode\\\" required>\\n          <mat-error>Admin's passcode is required</mat-error>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field>\\n          <input matInput formControlName=\\\"account\\\" id=\\\"account\\\" placeholder=\\\"Account\\\" required>\\n          <mat-error>Account is required</mat-error>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field>\\n          <input matInput formControlName=\\\"password\\\" id=\\\"password\\\" placeholder=\\\"Password\\\" type=\\\"password\\\" required>\\n          <mat-error>Password is required</mat-error>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field>\\n          <input matInput formControlName=\\\"confirmPassword\\\" id=\\\"confirmPassword\\\" placeholder=\\\"Repeat Password\\\" type=\\\"password\\\" required>\\n          <mat-error>Confirm password is required</mat-error>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field>\\n          <input matInput formControlName=\\\"fullName\\\" id=\\\"fullName\\\" placeholder=\\\"Full Name\\\" required>\\n          <mat-error>Full name is required</mat-error>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field>\\n          <input matInput formControlName=\\\"email\\\" ype=\\\"email\\\" id=\\\"email\\\" placeholder=\\\"Enter your email\\\" required>\\n          <mat-error *ngIf=\\\"registrationForm.get('email').hasError('required')\\\">Email is required</mat-error>\\n          <mat-error *ngIf=\\\"registrationForm.get('email').hasError('email')\\\">Not a valid email</mat-error>\\n        </mat-form-field>\\n        <br>\\n        <br>\\n        <br>\\n        <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"( !registrationForm.valid || !registrationForm.dirty || forceDisabled)\\\">Register</button>\\n        <a mat-raised-button routerLink=\\\"/login\\\">Back</a>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/leoycy/Desktop/skyapp3/src/app/signup/signup.component.html\n// module id = ../../../../../src/app/signup/signup.component.html\n// module chunks = signup.module","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  display: block; }\\n\\n.login-page {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: auto;\\n  background: #f1f6ff;\\n  text-align: center;\\n  color: #022657;\\n  padding: 3em; }\\n  .login-page .col-lg-4 {\\n    padding: 0; }\\n  .login-page .input-lg {\\n    height: 46px;\\n    padding: 10px 16px;\\n    font-size: 18px;\\n    line-height: 1.3333333;\\n    border-radius: 0; }\\n  .login-page .input-underline {\\n    background: 0 0;\\n    border: none;\\n    box-shadow: none;\\n    border-bottom: 2px solid rgba(255, 255, 255, 0.5);\\n    color: #FFF;\\n    border-radius: 0; }\\n  .login-page .input-underline:focus {\\n    border-bottom: 2px solid #fff;\\n    box-shadow: none; }\\n  .login-page .rounded-btn {\\n    border-radius: 50px;\\n    color: rgba(255, 255, 255, 0.8);\\n    background: #f1f6ff;\\n    border: 2px solid rgba(255, 255, 255, 0.8);\\n    font-size: 18px;\\n    line-height: 40px;\\n    padding: 0 25px; }\\n  .login-page .rounded-btn:hover, .login-page .rounded-btn:focus, .login-page .rounded-btn:active, .login-page .rounded-btn:visited {\\n    color: white;\\n    border: 2px solid white;\\n    outline: none; }\\n  .login-page h1 {\\n    font-weight: 300;\\n    margin-top: 20px;\\n    margin-bottom: 10px;\\n    font-size: 36px; }\\n    .login-page h1 small {\\n      color: rgba(255, 255, 255, 0.7); }\\n  .login-page .form-group {\\n    padding: 8px 0; }\\n    .login-page .form-group input::-webkit-input-placeholder {\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n    .login-page .form-group input:-moz-placeholder {\\n      /* Firefox 18- */\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n    .login-page .form-group input::-moz-placeholder {\\n      /* Firefox 19+ */\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n    .login-page .form-group input:-ms-input-placeholder {\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n  .login-page .form-content {\\n    padding: 40px 0; }\\n  .login-page .user-avatar {\\n    border-radius: 50%;\\n    border: 2px solid #FFF; }\\n  .login-page a {\\n    color: #0275d8;\\n    text-decoration: none; }\\n    .login-page a:focus, .login-page a:hover {\\n      color: #014c8c;\\n      text-decoration: none; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/leoycy/Desktop/skyapp3/src/app/signup/signup.component.scss\n// module id = ../../../../../src/app/signup/signup.component.scss\n// module chunks = signup.module","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { SignupService } from './signup.service';\nimport { MatSnackBar, MatSnackBarConfig} from '@angular/material';\nimport {TranslateService} from \"@ngx-translate/core\";\n\n@Component({\n    selector: 'app-signup',\n    providers: [SignupService],\n    templateUrl: './signup.component.html',\n    styleUrls: ['./signup.component.scss']\n})\nexport class SignupComponent implements OnInit {\n\n  registrationForm: FormGroup;\n  forceDisabled: boolean;\n\n  constructor(\n    private translate: TranslateService,\n    private router: Router,\n    private signupService: SignupService,\n    public snackBar: MatSnackBar\n  ) {\n    this.forceDisabled = false;\n    // form\n    this.registrationForm = new FormGroup({\n      code: new FormControl('', Validators.required),\n      account: new FormControl('', Validators.required),\n      password: new FormControl('', Validators.required),\n      confirmPassword: new FormControl('', Validators.required),\n      fullName: new FormControl('', Validators.required),\n      email: new FormControl('', Validators.compose( [ Validators.email, Validators.required ] ) )\n    });\n  }\n\n  ngOnInit() {\n\n  }\n\n  onSubmit(a: any, values: any) {\n    this.forceDisabled = true;\n    try {\n      this.signupService.register(values).then((result) => {\n        if (result['success']) {\n          // go login page\n          this.openSnackBarForLogin(result['msg'] + ', Press \"OK\" or wait 5 seconds to redirect to login page', 'OK');\n        }\n      }, (err) => {\n        // show error why cannot register\n        // console.log(err);\n        try {\n          const body = JSON.parse(err['_body']);\n          const msg = body['msg'];\n          this.openSnackBarForRetry(msg + ', Press \"Try Again\" or wait 10 seconds to unlock register button', 'Try Again');\n        } catch (ex2) {\n          this.openSnackBarForRetry('Cannot connect to the server, press \"Try Again\" or wait 10 seconds to unlock register button', 'Try Again');\n        }\n      });\n    } catch (ex) {\n      this.openSnackBarForRetry('Cannot connect to the server, press \"Try Again\" or wait 10 seconds to unlock register button', 'Try Again');\n    }\n  }\n\n  openSnackBarForLogin(message: string, action: string) {\n    const dConfig = new MatSnackBarConfig();\n    dConfig.duration = 5000;\n    const snackBarRef = this.snackBar.open(message, action, dConfig);\n    snackBarRef.afterDismissed().subscribe(null, null, () => {\n      // route to login page\n      this.router.navigateByUrl('/login').then(nav => {\n        console.log(nav); // true if navigation is successful\n      }, err => {\n        console.log(err) // when there's an error\n      });\n    })\n    snackBarRef.onAction().subscribe(null, null, () => {\n      this.snackBar.dismiss();\n    })\n  }\n\n  openSnackBarForRetry(message: string, action: string) {\n    const dConfig = new MatSnackBarConfig();\n    dConfig.duration = 10000;\n    const snackBarRef = this.snackBar.open(message, action, dConfig);\n    snackBarRef.afterDismissed().subscribe(null, null, () => {\n      // unlock submit button\n      this.forceDisabled = false;\n    })\n    snackBarRef.onAction().subscribe(null, null, () => {\n      this.snackBar.dismiss();\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/leoycy/Desktop/skyapp3/src/app/signup/signup.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { SignupRoutingModule } from './signup-routing.module';\nimport { SignupComponent } from './signup.component';\nimport { MatFormFieldModule, MatInputModule, MatSelectModule, MatSnackBarModule, MatButtonModule } from '@angular/material';\nimport {TranslateModule} from \"@ngx-translate/core\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SignupRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatSnackBarModule,\n    MatButtonModule,\n    TranslateModule\n  ],\n  declarations: [SignupComponent]\n})\nexport class SignupModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/leoycy/Desktop/skyapp3/src/app/signup/signup.module.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class SignupService {\n\n  constructor(private http: Http) { }\n\n  /*\n  getChatByRoom(room) {\n    return new Promise((resolve, reject) => {\n      this.http.get('/chat/' + room)\n        .map(res => res.json())\n        .subscribe(res => {\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n  */\n\n  register(data) {\n    return new Promise((resolve, reject) => {\n      this.http.post('/api/signup', data)\n        .map(res => res.json())\n        .subscribe(res => {\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/leoycy/Desktop/skyapp3/src/app/signup/signup.service.ts"],"sourceRoot":"webpack:///"}